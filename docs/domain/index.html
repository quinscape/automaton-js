<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Automaton-Js Documentation - Domain-Object Helpers</title><link rel="stylesheet" type="text/css" href="/automaton-js/css/fontawesome.min.css"/><link rel="stylesheet" type="text/css" href="/automaton-js/css/brands.min.css"/><link rel="stylesheet" type="text/css" href="/automaton-js/css/solid.min.css"/><link rel="stylesheet" type="text/css" href="/automaton-js/css/bootstrap-automaton-condensed.min.css"/><meta name="next-head-count" content="8"/><link rel="preload" href="/automaton-js/_next/static/css/0e71974b2f1a9c53126f.css" as="style"/><link rel="stylesheet" href="/automaton-js/_next/static/css/0e71974b2f1a9c53126f.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/automaton-js/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/automaton-js/_next/static/chunks/webpack-fad2d2bf96cd440cad55.js" defer=""></script><script src="/automaton-js/_next/static/chunks/framework.e3de07479da4f2477dea.js" defer=""></script><script src="/automaton-js/_next/static/chunks/commons.95830845f58c6f70b57c.js" defer=""></script><script src="/automaton-js/_next/static/chunks/main-4ad3bb8a76d562038910.js" defer=""></script><script src="/automaton-js/_next/static/chunks/pages/_app-9d4aff31245489e5f154.js" defer=""></script><script src="/automaton-js/_next/static/chunks/39b4fb4d275055bb84513a65db65e747b75d5179.13f3c585d230fd880266.js" defer=""></script><script src="/automaton-js/_next/static/chunks/pages/domain-dd23ba0a51d9d885285c.js" defer=""></script><script src="/automaton-js/_next/static/CMA9tZLjYQcryFRYcJlJn/_buildManifest.js" defer=""></script><script src="/automaton-js/_next/static/CMA9tZLjYQcryFRYcJlJn/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="container"><header><nav class="navbar navbar-dark bg-primary"><a class="navbar-brand text-white" href="/automaton-js/"><i class="fab fa-quinscape"></i> Automaton-Js</a></nav></header><main class="row"><div class="col-10 mt-3"><div class="container"><div class="row"><div class="col"><h1>Domain-Object Helpers</h1><section id="createDomainObject" class="mb-5"><h3>createDomainObject(type)<a class="btn btn-link section-link text-muted" href="#createDomainObject"><i class="fas fa-link"></i></a></h3><p class="">Creates a new domain object with a new UUID.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>type</td><td>String</td><td>domain type name</td></tr></tbody></table><pre></pre><hr/></section><section id="deleteAttachment" class="mb-5"><h3>deleteAttachment(attachmentId)<a class="btn btn-link section-link text-muted" href="#deleteAttachment"><i class="fas fa-link"></i></a></h3><p class="">Calls the attachment controller to delete the attachment with the given id.

The deletion might fail if there are still references to the attachment in the database.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>attachmentId</td><td>String</td><td>attachment id</td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->Promise&lt;void&gt;<p class="">resolves after the promise has been successfully deleted, rejects otherwise</p><pre></pre><hr/></section><section id="deleteDomainObject" class="mb-5"><h3>deleteDomainObject(type, id)<a class="btn btn-link section-link text-muted" href="#deleteDomainObject"><i class="fas fa-link"></i></a></h3><p class="">Deletes the given domain object with the given id.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>type</td><td>String</td><td>domain type name</td></tr><tr><td>id</td><td>*</td><td>id field as string or number or generic scalar object. is converted into a generic scalar object
                                     if it is not one already</td></tr></tbody></table><pre></pre><hr/></section><section id="extractTypeData" class="mb-5"><h3>extractTypeData(typeName, obj)<a class="btn btn-link section-link text-muted" href="#extractTypeData"><i class="fas fa-link"></i></a></h3><p class="">Extracts type data of a specified type from the given object. The method will return a plain object containing
only the properties of the specified type.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>typeName</td><td>String</td><td>GraphQL type name</td></tr><tr><td>obj</td><td>Observable | object</td><td>object.</td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->object<p class="">Object containing just the type fields (and _type)</p><pre></pre><hr/></section><section id="generateDomainObjectId" class="mb-5"><h3>generateDomainObjectId(domainType)<a class="btn btn-link section-link text-muted" href="#generateDomainObjectId"><i class="fas fa-link"></i></a></h3><p class="">Generates a new unique id for the given domain type using the application specific id generator
(a server-side Spring bean implementing de.quinscape.automaton.runtime.domain.IdGenerator)</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>domainType</td><td>String</td><td>domain type name</td></tr></tbody></table><pre></pre><hr/></section><section id="storeDomainObject" class="mb-5"><h3>storeDomainObject(domainObject)<a class="btn btn-link section-link text-muted" href="#storeDomainObject"><i class="fas fa-link"></i></a></h3><p class="">Stores a single domain object and resolves to the id of the stored object. You can use special id values (e.g. &quot;&quot; for UUIDGenerator an or 0 for SequenceIdGenerator)
for them to be replaced with a new UUID or autoincrement id.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>domainObject</td><td>object</td><td>domain object</td></tr></tbody></table><pre></pre><hr/></section><section id="storeDomainObjects" class="mb-5"><h3>storeDomainObjects(domainObjects)<a class="btn btn-link section-link text-muted" href="#storeDomainObjects"><i class="fas fa-link"></i></a></h3><p class="">Stores a heterogeneous list of domain objects. You can use special id values (e.g. &quot;&quot; for UUIDGenerator an or 0 for SequenceIdGenerator)
for them to be replaced with a new UUID or autoincrement id.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>domainObjects</td><td>Array&lt;object&gt;</td><td>list of domain objects</td></tr></tbody></table><pre></pre><hr/></section><section id="updateAssociations" class="mb-5"><h3>updateAssociations(opts, opts.domainType, opts.sourceIds)<a class="btn btn-link section-link text-muted" href="#updateAssociations"><i class="fas fa-link"></i></a></h3><p class="">Updates a many-to-many / associative entity from one of the associated objects. Ids may be placeholder id values.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>opts</td><td>Object</td><td>options</td></tr><tr><td>opts.domainType</td><td>String</td><td>Name of the associative entity ( e.g. &quot;BazLink&quot; )</td></tr><tr><td>opts.sourceIds</td><td>Array&lt;object | *&gt;</td><td>Array of id values for the source object. Each will be automatically wrapped as generic scalar unless it already is an object in which case it is used as-is.</td></tr></tbody></table><pre></pre><hr/></section><section id="uploadAttachment" class="mb-5"><h3>uploadAttachment(attachmentId, description, type)<a class="btn btn-link section-link text-muted" href="#uploadAttachment"><i class="fas fa-link"></i></a></h3><p class="">Uploads the given file as attachment</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>attachmentId</td><td>String</td><td>attachment id to store the attachment under. Might be an already existing id.</td></tr><tr><td>description</td><td>String</td><td>Description of the attachment / former file name</td></tr><tr><td>type</td><td>String</td><td>Media type for the attachment. If this is an empty string, the Java side will guess the type</td></tr></tbody></table><pre></pre><hr/></section></div></div></div></div><div class="col-2"><div class="mt-5 sidebar"><h5>Domain-Object Helpers</h5><ul class="markdown-doc list-unstyled"><li><a class="btn btn-link toc-link text-muted" href="#createDomainObject">createDomainObject</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#deleteAttachment">deleteAttachment</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#deleteDomainObject">deleteDomainObject</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#extractTypeData">extractTypeData</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#generateDomainObjectId">generateDomainObjectId</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#storeDomainObject">storeDomainObject</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#storeDomainObjects">storeDomainObjects</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#updateAssociations">updateAssociations</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#uploadAttachment">uploadAttachment</a><br/></li></ul></div></div></main><footer class="row"><div class="col"><hr/></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Domain-Object Helpers","docs":{"handwritten":[],"docs":{"createDomainObject":{"name":"createDomainObject","source":"src/createDomainObject.js","description":{"description":"Creates a new domain object with a new UUID.","tags":[{"title":"category","description":"domain"},{"title":"param","description":"domain type name","type":{"type":"NameExpression","name":"String"},"name":"type"}]},"group":"FUNCTION","reactDocGen":null,"start":27,"end":89,"category":"domain","link":"domain#createDomainObject"},"deleteAttachment":{"name":"deleteAttachment","source":"src/deleteAttachment.js","description":{"description":"Calls the attachment controller to delete the attachment with the given id.\n\nThe deletion might fail if there are still references to the attachment in the database.","tags":[{"title":"category","description":"domain"},{"title":"param","description":"attachment id","type":{"type":"NameExpression","name":"String"},"name":"attachmentId"},{"title":"return","description":"resolves after the promise has been successfully deleted, rejects otherwise","type":{"type":"TypeApplication","expression":{"type":"NameExpression","name":"Promise"},"applications":[{"type":"NameExpression","name":"void"}]}}]},"group":"FUNCTION","reactDocGen":null,"start":16,"end":43,"category":"domain","link":"domain#deleteAttachment"},"deleteDomainObject":{"name":"deleteDomainObject","source":"src/standard-queries.js","description":{"description":"Deletes the given domain object with the given id.","tags":[{"title":"category","description":"domain"},{"title":"param","description":"domain type name","type":{"type":"NameExpression","name":"String"},"name":"type"},{"title":"param","description":"id field as string or number or generic scalar object. is converted into a generic scalar object\n                                     if it is not one already","type":{"type":"AllLiteral"},"name":"id"}]},"group":"FUNCTION","reactDocGen":null,"start":66,"end":73,"category":"domain","link":"domain#deleteDomainObject"},"extractTypeData":{"name":"extractTypeData","source":"src/extractTypeData.js","description":{"description":"Extracts type data of a specified type from the given object. The method will return a plain object containing\nonly the properties of the specified type.","tags":[{"title":"category","description":"domain"},{"title":"param","description":"GraphQL type name","type":{"type":"NameExpression","name":"String"},"name":"typeName"},{"title":"param","description":"object.","type":{"type":"UnionType","elements":[{"type":"NameExpression","name":"Observable"},{"type":"NameExpression","name":"object"}]},"name":"obj"},{"title":"return","description":"Object containing just the type fields (and _type)","type":{"type":"NameExpression","name":"object"}}]},"group":"FUNCTION","reactDocGen":null,"start":17,"end":43,"category":"domain","link":"domain#extractTypeData"},"generateDomainObjectId":{"name":"generateDomainObjectId","source":"src/standard-queries.js","description":{"description":"Generates a new unique id for the given domain type using the application specific id generator\n(a server-side Spring bean implementing de.quinscape.automaton.runtime.domain.IdGenerator)","tags":[{"title":"category","description":"domain"},{"title":"param","description":"domain type name","type":{"type":"NameExpression","name":"String"},"name":"domainType"},{"title":"returns","description":"resolves to a new unique id value","type":{"type":"TypeApplication","expression":{"type":"NameExpression","name":"Promise"},"applications":[{"type":"AllLiteral"}]}}]},"group":"FUNCTION","reactDocGen":null,"start":150,"end":157,"category":"domain","link":"domain#generateDomainObjectId"},"storeDomainObject":{"name":"storeDomainObject","source":"src/standard-queries.js","description":{"description":"Stores a single domain object and resolves to the id of the stored object. You can use special id values (e.g. \"\" for UUIDGenerator an or 0 for SequenceIdGenerator)\nfor them to be replaced with a new UUID or autoincrement id.","tags":[{"title":"category","description":"domain"},{"title":"param","description":"domain object","type":{"type":"NameExpression","name":"object"},"name":"domainObject"},{"title":"returns","description":"resolves to the id of the stored object.","type":{"type":"TypeApplication","expression":{"type":"NameExpression","name":"Promise"},"applications":[{"type":"AllLiteral"}]}}]},"group":"FUNCTION","reactDocGen":null,"start":111,"end":118,"category":"domain","link":"domain#storeDomainObject"},"storeDomainObjects":{"name":"storeDomainObjects","source":"src/standard-queries.js","description":{"description":"Stores a heterogeneous list of domain objects. You can use special id values (e.g. \"\" for UUIDGenerator an or 0 for SequenceIdGenerator)\nfor them to be replaced with a new UUID or autoincrement id.","tags":[{"title":"category","description":"domain"},{"title":"param","description":"list of domain objects","type":{"type":"TypeApplication","expression":{"type":"NameExpression","name":"Array"},"applications":[{"type":"NameExpression","name":"object"}]},"name":"domainObjects"},{"title":"returns","description":"resolves to an array of id values","type":{"type":"TypeApplication","expression":{"type":"NameExpression","name":"Promise"},"applications":[{"type":"AllLiteral"}]}}]},"group":"FUNCTION","reactDocGen":null,"start":131,"end":138,"category":"domain","link":"domain#storeDomainObjects"},"updateAssociations":{"name":"updateAssociations","source":"src/standard-queries.js","description":{"description":"Updates a many-to-many / associative entity from one of the associated objects. Ids may be placeholder id values.","tags":[{"title":"category","description":"domain"},{"title":"param","description":"options","type":{"type":"NameExpression","name":"Object"},"name":"opts"},{"title":"param","description":"Name of the associative entity ( e.g. \"BazLink\" )","type":{"type":"NameExpression","name":"String"},"name":"opts.domainType"},{"title":"param","description":"Array of id values for the source object. Each will be automatically wrapped as generic scalar unless it already is an object in which case it is used as-is.","type":{"type":"TypeApplication","expression":{"type":"NameExpression","name":"Array"},"applications":[{"type":"UnionType","elements":[{"type":"NameExpression","name":"object"},{"type":"AllLiteral"}]}]},"name":"opts.sourceIds"}]},"group":"FUNCTION","reactDocGen":null,"start":202,"end":246,"category":"domain","link":"domain#updateAssociations"},"uploadAttachment":{"name":"uploadAttachment","source":"src/uploadAttachment.js","description":{"description":"Uploads the given file as attachment","tags":[{"title":"category","description":"domain"},{"title":"param","description":"attachment id to store the attachment under. Might be an already existing id.","type":{"type":"NameExpression","name":"String"},"name":"attachmentId"},{"title":"param","description":"Description of the attachment / former file name","type":{"type":"NameExpression","name":"String"},"name":"description"},{"title":"param","description":"Media type for the attachment. If this is an empty string, the Java side will guess the type","type":{"type":"NameExpression","name":"String"},"name":"type"}]},"group":"FUNCTION","reactDocGen":null,"start":18,"end":56,"category":"domain","link":"domain#uploadAttachment"}},"functions":["createDomainObject","deleteAttachment","deleteDomainObject","extractTypeData","generateDomainObjectId","storeDomainObject","storeDomainObjects","updateAssociations","uploadAttachment"]}},"__N_SSG":true},"page":"/domain","query":{},"buildId":"CMA9tZLjYQcryFRYcJlJn","assetPrefix":"/automaton-js","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>