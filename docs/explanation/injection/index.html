<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Automaton-Js Documentation - GraphQL Injection</title><link rel="stylesheet" type="text/css" href="/automaton-js/css/fontawesome.min.css"/><link rel="stylesheet" type="text/css" href="/automaton-js/css/brands.min.css"/><link rel="stylesheet" type="text/css" href="/automaton-js/css/solid.min.css"/><link rel="stylesheet" type="text/css" href="/automaton-js/css/bootstrap-automaton-condensed.min.css"/><meta name="next-head-count" content="8"/><link rel="preload" href="/automaton-js/_next/static/css/0e71974b2f1a9c53126f.css" as="style"/><link rel="stylesheet" href="/automaton-js/_next/static/css/0e71974b2f1a9c53126f.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/automaton-js/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/automaton-js/_next/static/chunks/webpack-fad2d2bf96cd440cad55.js" defer=""></script><script src="/automaton-js/_next/static/chunks/framework.e3de07479da4f2477dea.js" defer=""></script><script src="/automaton-js/_next/static/chunks/commons.95830845f58c6f70b57c.js" defer=""></script><script src="/automaton-js/_next/static/chunks/main-4ad3bb8a76d562038910.js" defer=""></script><script src="/automaton-js/_next/static/chunks/pages/_app-9d4aff31245489e5f154.js" defer=""></script><script src="/automaton-js/_next/static/chunks/pages/explanation/%5Bname%5D-864b1a30cfc6b29adf11.js" defer=""></script><script src="/automaton-js/_next/static/CMA9tZLjYQcryFRYcJlJn/_buildManifest.js" defer=""></script><script src="/automaton-js/_next/static/CMA9tZLjYQcryFRYcJlJn/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="container"><header><nav class="navbar navbar-dark bg-primary"><a class="navbar-brand text-white" href="/automaton-js/"><i class="fab fa-quinscape"></i> Automaton-Js</a></nav></header><main class="row"><div class="col-9 mt-3"><div class="container"><div class="row"><div class="col"><section id="graphql-injection"><h1>GraphQL Injection</h1><div><p>This document explains how we use data injection to cut down on the common problem of asynchronous data fetching</p></div></section><section id="wild-west-async-fetching"><h2>Wild West Async Fetching<a class="btn btn-link section-link text-muted" href="#wild-west-async-fetching"><i class="fas fa-link"></i></a></h2><div><p>If we just head into things and follow the most common approach we write our frontend so that the react components
themselves or some kind of state handling library fetches the data we need.</p><p>This often leads to two kinds of problems: First we incur a lot of request latency which quickly adds up to make our
application seem slow and sluggish. Second while the responses of all the async requests are coming in, we have a lot of
visual noise or even reflow while our components update to their final state.</p></div></section><section id="cutting-down-the-problem"><h3>Cutting down the problem<a class="btn btn-link section-link text-muted" href="#cutting-down-the-problem"><i class="fas fa-link"></i></a></h3><div><p>Assuming GraphQL as data fetching method, we can categorize the data acquired into three groups</p><ul><li>System data - internal / non-business-entity application data </li><li>Data that comes from a GraphQL query whose variables are known at compile-time</li><li>Truly async requests
</li></ul><p>In practice the number of data requests that fall into the last category is often very small if not zero.</p><p>Most of our data needs run along the lines of &quot;Give me the first x rows of that table, sorted by y&quot;, maybe
with a filter. This is exactly what the InteractiveQuery system encapsulates.</p><svg xmlns="http://www.w3.org/2000/svg" width="834.376" height="465.959" viewBox="0 0 220.762 123.285"><g transform="translate(-75.428 -80.524)"><g stroke-width="1.907" stroke-linecap="round" stroke-linejoin="round" color="#000" fill="#e0e0e0" fill-rule="evenodd" stroke="#000"><path style="marker:none" d="M44.601 95.917v108.857H127v-96.419l-12.439-12.438h-69.96z" overflow="visible" transform="matrix(.55457 0 0 .55562 57.923 60.76)"></path><path style="marker:none" d="M114.561 95.917L127 108.355h-12.439V95.917z" overflow="visible" transform="matrix(.55457 0 0 .55562 57.923 60.76)"></path></g><text style="line-height:125%;-inkscape-font-specification:&#x27;Impact, Condensed&#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center" x="106.082" y="143.516" transform="scale(.99906 1.00094)" font-weight="400" font-stretch="condensed" font-size="17.082" font-family="Impact" letter-spacing="0" word-spacing="0" text-anchor="middle" stroke-width="0.265" stroke-linecap="round" stroke-linejoin="round"><tspan x="106.082" y="143.516" style="-inkscape-font-specification:&#x27;Bitstream Vera Sans Mono, Normal&#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center" font-stretch="normal" font-size="3.661" font-family="Bitstream Vera Sans Mono">injection( Q_Foo )</tspan></text><path style="isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none" d="M233.87 84.795c-.27.002-.541.008-.813.02-8.489.045-16.384 5.104-20.835 12.208-.43-.026-.862-.04-1.294-.04-2.124.003-4.222.3-6.143.873-10.348-3.93-23.29.785-29.592 9.863-2.8 4.263-4.64 9.293-5.138 14.344-.05 2.193.405 4.456.877 6.724-.857 2.473-1.306 5.25-1.307 8.076a25.98 25.98 0 00.495 5.013l-.018.028c-4.733 7.612-6.062 18.154-1.173 26.042 14.823 10.225 33.741 10.121 50.983 8.787 19.375-1.808 38.922-2.206 58.115-5.644 7.458-3.9 8.26-13.431 7.871-20.908-.334-4.476-1.754-8.94-4.021-12.919 4.528-3.425 7.084-8.136 7.084-13.057 0-10.045-10.434-18.187-23.305-18.187-2.17.002-4.33.24-6.415.71-.705-3.656-2.018-7.115-4.61-10.099-4.576-6.834-12.383-11.874-20.761-11.834z" color="#000" overflow="visible" fill="#56a6cf" fill-opacity="0.382" stroke="#56a6cf" stroke-width="1.058" stroke-linecap="round" stroke-linejoin="round"></path><path style="marker:none" d="M181.484 148.503l.606 14.531 2.227 5.06-.124-13.361" fill="#c38760" fill-rule="evenodd" stroke="#000" stroke-width="0.794" stroke-linecap="round" stroke-linejoin="round"></path><path style="marker:none" d="M184.317 168.094l18.93-1.308.942-13.435-10.85.714-.332-.314-8.814.982z" fill="#855c40" fill-rule="evenodd" stroke="#000" stroke-width="1.058" stroke-linecap="round" stroke-linejoin="round"></path><path style="marker:none" d="M181.484 148.503l7.768-.7.164.151 7.931-.548 6.842 5.945-19.996 1.382z" fill="#ddbaa5" fill-rule="evenodd" stroke="#000" stroke-width="0.794" stroke-linecap="round" stroke-linejoin="round"></path><path style="marker:none" d="M189.284 147.951l4.089 5.88" fill="#e0e0e0" fill-rule="evenodd" stroke="#000" stroke-width="1.058" stroke-linecap="round" stroke-linejoin="round"></path><path d="M208.545 164.448c.054-.282.25.143 0 0zm-15.833.522c-.372-.317-.026-.948-.293-.949.003-.856-.325-.218-.817-.202-.346.153-.34.213-.372.342-.071.395-.295.57-.698.977-.939-.177.405-.839.035-1.301-.058-.044.365-.034.157-.414.047-.57.449-.315.342-.885-.056-.346.327-.118.26-.49.122-.2.083-.801.465-.946.77-.197.492.955.774 1.38-.023.446.25.576.424.636-.48.49.284 1.031.739.824.153-.376-1.072-1.455-.297-1.514.5-.143 1.24.713.348.417-.446.405 1.165 1.084.508 1.552-.33.212-1.191-.41-1.42-.246.035-.177.52 1.266-.155.82zm.21-.173c-.036-.28-.106.319 0 0zm.055-.114c-.118-.15.022.146 0 0zm-.034-.287c-.083-.117.011.161 0 0zm-.974-1.078c.43-.039.187-.724.034-.9-.055-.725-.249-.52-.365-.039.073.63-.55 1.153.331.938zm-.567-.03c-.117-.574-.113.156 0 0zm.105-.304c.07-.377-.194.302 0 0zm-.106-.076c-.067-.08-.02.09 0 0zm.178-.177c-.092-.254-.17.146 0 0zm-.402-.07c-.122-.245.06.353 0 0zm-1.107 2.36c.032-.244.121.11 0 0zm6.803-.867c-.94.12-1.356-1.592-.307-1.658.274-.307 1.261.103 1.11-.512-.3.116.153-.38-.2-.368-.036-.412.146-.642-.061-.67-.049-.449-.435-.724-.074-.847.141-.597.353-1.189.534-1.737.435-.418 1.955.601 1.108 1.07-.374-.015-.905-.148-.906.035-.13-.385-.102.808-.251.885-.153.598.328 1.404.43 1.854.518-.329.407.142-.034.26-.14.475.446.554.833.555.366.089 1.166.295 1.373.005-.407-.344-1.163-.492-1.233-1.075-.216-.328.154-.59.102-.782.206.027.122-.274.418-.268.213-.084 1.366.422 1.032.568-.557-.153-1.368-.219-1.137.644.364.594 1.52.577 1.503 1.35-.371.317-.675.027-1.049.084-.267-.06-1.149-.148-1.645-.329-.154.24.26.866-.306.48-.19-.649-.63.767-1.24.457zm.402-.265c.66-.137.511-.891.564-1.134.249-.3-.226.09-.285-.108-.278-.028-.105.651-.315.224-.185-.195-.296.641-.742.558.048.392.428.566.778.46zm.173-1.135c.053-.091.068.08 0 0zm.508.28c-.076-.202-.038.212 0 0zm.048-.402c-.037-.085-.051.09 0 0zm-.223-.894c-.092-.373.01.34 0 0zm.202-.01c-.082-.08-.034.125 0 0zm1.69-.281c-.07-.08-.054.091 0 0zm-1.977.033c-.122-.269-.055.237 0 0zm.009-.35c-.1-.085-.113.123 0 0zm.641-2.265c.768-.04-.088-.572-.082 0l.035.025.047-.025zm-3.188 5.42c-.454.028-1.17-.797-.27-.483.502.393.804-.322.16-.492-.712-.295-.745-1.603.226-1.085.865.532-.82-.143-.369.547.293.434 1.725 1.102.655 1.479-.133.016-.267.046-.402.033zm2.404-2.144c.051-.09.037.085 0 0zm-9.396-.24c-.61-.09-1.268-.51-1.361-1.161.144-.47 1.364-.43 1.234-1.138.047-.567-.158-1.203-.776-.736-.307.222-.85.139-.236-.106.533-.426 1.323-.324 1.202.52.005.265.05.485.232.286-.234.336-.156.71-.109 1.102-.07.32.286 1.195-.186 1.232zm-.164-.56c.186-.393.27-1.559-.356-.907-.603.163-.57.632-.055.834.099-.01.357.195.41.074zm-.552-.222c.03-.115.087.033 0 0zm-.455-.372c.166-.144-.188.034 0 0zm12.62-.801c-.303-.514-.147-1.054-.126-1.64-.12-.58.257-1.129.396-1.576.372.412-.269 1.21.577 1.166.877.178-.509.169-.587.317-.17.574.07 1.357-.155 1.813l-.105-.08zm.178-.262c-.103-.043-.004.242 0 0zm-7.854.798c-.172-.196.214.075 0 0zm6.032-.637c.075-.388.055.312 0 0zm-8.946.67c-.787-.115.078-1.907.102-.862-.624.726.32.99.563.25-.167-.364-.367-.946.084-.33.079.49.739.571.884.435-.045.832-.995-.405-1.088.338-.132.145-.348.282-.545.169zm5.955-.506c-.564-.119-1.16-.106-1.698-.445-.441-.096-.625-.771.01-.358.273-.152.697.622.515-.014-.404-.253-.271-1.25.007-.5.025.41.614 1.04.4.248-.224-.83 1.028-.844 1.135-.23-.796-.47-1.215.997-.39 1.096-.051-.286.531-.234.62-.4.115-.134.382-1.358.73-.626.277-.262.868-.367.296.035-.442.603-.831.931-1.485 1.174l-.079.015-.06.005zm.306-.268c-.045-.121-.272.091 0 0zm-3.274.433c-.473-.255-.271-1.765-.648-.649-.007.59-.599.7-.63.058-.206-.332-.34-.833.074-.335.322.946.507-.93.965-.724-.062.287 1.012.191.32.418-.492.233.031 1.665.292.668.122-.349.04-1.54.371-.584-.052.344.75 1.503.025.895-.349-.832-.21.56-.769.254zm5.156-.547c-.534-.301.259-1.761.219-.675-.165.138.063.904-.22.675zm.228-.145c.035-.124.082.08 0 0zm.274-1.797c-.567.056-.773-1.412-.26-.543-.103.167.617.653.26.543z"></path><g stroke-width="4.792" stroke-linecap="round" stroke-linejoin="round" color="#000" fill="#e0e0e0" fill-rule="evenodd" stroke="#000"><path style="marker:none" d="M168.572 362.52v411.427H480V409.531l-47.012-47.011z" transform="matrix(.05504 0 0 .05539 172.036 95.444)" overflow="visible" stroke-width="19.168"></path><path style="marker:none;font-variant-east_asian:normal" d="M111.795 95.72l15.207 15.2h-15.207z" overflow="visible" stroke-width="5.072" transform="matrix(.20801 0 0 .20935 172.036 95.444)"></path></g><text style="line-height:125%;-inkscape-font-specification:&#x27;Bitstream Vera Sans, Normal&#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center" x="190.809" y="128.041" transform="scale(.99568 1.00434)" font-weight="400" font-size="4.199" font-family="Bitstream Vera Sans" letter-spacing="0" word-spacing="0" text-anchor="middle" stroke-width="0.265" stroke-linecap="round" stroke-linejoin="round"><tspan x="190.809" y="128.041">JSON</tspan></text><path style="line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none" d="M167.322 130.31l.903 1.875c-3.48 1.847-6.964 3.753-10.79 4.8-3.88 1.143-7.847 2.112-11.863 2.578h-14.174v10.15h14.61c6.902 1.177 13.915 2.756 20.009 6.348l2.23 1.214-.96 1.903 9.03-3.165-2.046-9.631-1.163 1.976c-2.386-1.27-4.708-2.675-7.222-3.69 2.48-.981 4.785-2.327 7.153-3.54.274.487.605 1.527.844 1.67l2.231-9.563-8.792-2.925z" color="#000" font-weight="400" font-family="sans-serif" overflow="visible" fill="#e0e0e0" fill-rule="evenodd" stroke="#000" stroke-width="1.058" stroke-linecap="round" stroke-linejoin="round"></path><text style="line-height:125%;-inkscape-font-specification:&#x27;Bitstream Vera Sans, Bold&#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center" x="240.023" y="129.582" transform="scale(1.00046 .99954)" font-weight="700" font-size="13.845" font-family="Bitstream Vera Sans" letter-spacing="0" word-spacing="0" writing-mode="lr" text-anchor="middle" stroke-width="0.265"><tspan x="240.023" y="129.582" style="-inkscape-font-specification:&#x27;Bitstream Vera Sans, Bold&#x27;;text-align:center;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal">Server</tspan></text><rect style="marker:none" width="26.025" height="23.217" x="210.727" y="144.689" rx="2.981" color="#000" overflow="visible" fill="#e0e0e0" fill-rule="evenodd" stroke="#000" stroke-width="0.529"></rect><path d="M218.893 161.441c-.208-1.21-1.877-1.573-2.701-.75-.851.02-1.954-1.043-1.13-1.794.446-.873-.029-2.253-1.094-2.322-.78.004-.722-.729-.694-1.28-.238-.782.605-.697 1.112-.993 1.025-.54 1.043-1.885.403-2.73-.02-.964 1.285-1.661 2.068-.862 1.093.394 2.064-.507 2.19-1.606.314-.457.933-.217 1.403-.278.777-.032.426 1.439 1.246 1.677.927.874 1.873-.43 2.776-.065.644.51.932 1.239.312 1.962-.339.983.38 2.062 1.467 2.114.617.21.365.927.418 1.417.126.824-1.295.45-1.588 1.174-.881.883.061 1.846.06 2.768-.495.7-1.28 1.12-2.053.44-1.093-.393-2.068.501-2.192 1.603-.314.457-.934.218-1.404.278-.524.138-.398-.41-.599-.753zm1.493-3.32c1.81-.213 2.92-2.622 1.776-4.09-.907-1.422-3.225-1.578-4.241-.19-.984 1.157-.702 3.128.639 3.893.528.353 1.198.533 1.826.387z"></path><path d="M227.742 162.91c.2-1.235-1.337-1.072-1.94-1.35-.747-.851.738-1.29.446-2.098-.237-.685-1.334-1.262-.41-1.926.703-.165 1.652-.202 1.63-1.215-.384-.858.982-1.432 1.422-.655.743.94 1.572-.5 2.256-.492 1.12.154.25 1.591 1.26 1.853.663.2 1.57-.08 1.523.931-.304.631-1.101 1.31-.344 2.046.869.344.41 1.637-.464 1.514-1.058-.22-1.031 1.242-1.136 1.822-.918.882-1.429-.779-2.344-.327-.619.43-1.273 1.131-1.916.295-.05-.13-.023-.27.017-.397zm1.69-1.737c1.337.339 2.63-1.324 1.91-2.525-.55-1.188-2.448-1.282-3.09-.126-.607.971.005 2.502 1.18 2.65z"></path><text style="line-height:125%;-inkscape-font-specification:&#x27;Bitstream Vera Sans, Normal&#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center" x="149.638" y="146.182" transform="scale(1.00012 .99988)" font-weight="400" font-size="4.812" font-family="Bitstream Vera Sans" letter-spacing="0" word-spacing="0" text-anchor="middle" stroke-width="0.265"><tspan x="149.638" y="146.182">Webpack</tspan></text><g style="font-variant-east_asian:normal;marker:none"><path style="line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none;font-variant-east_asian:normal" d="M199.679 128.795h-.001a.529.529 0 00-.4.873l9.88 11.964-.745-.072 3.174 2.182-1.543-3.529-.07.743-9.88-11.962a.529.529 0 00-.415-.2z" color="#000" font-weight="400" font-family="sans-serif" overflow="visible" fill-rule="evenodd" fill-opacity="0.695" stroke-width="14.285" stroke-linecap="round" stroke-linejoin="round"></path></g><g style="font-variant-east_asian:normal;marker:none"><path style="line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none;font-variant-east_asian:normal" d="M248.29 152.18l.529.529h-10.78c-.74-.037-.74 1.094 0 1.057h10.78l-.53.53 1.855-.53.965-.276.883-.252-.882-.253-.968-.276z" color="#000" font-weight="400" font-family="sans-serif" overflow="visible" fill-rule="evenodd" fill-opacity="0.695" stroke-width="3.78" stroke-linecap="round" stroke-linejoin="round"></path></g><g style="font-variant-east_asian:normal;marker:none"><path style="line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none;font-variant-east_asian:normal" d="M241.454 157.768l-1.85.529-.936.267-.917.262.917.262.935.268 1.851.528-.529-.528h9.848c.706 0 .706-1.06 0-1.06h-9.848z" color="#000" font-weight="400" font-family="sans-serif" overflow="visible" fill-rule="evenodd" fill-opacity="0.695" stroke-width="3.78" stroke-linecap="round" stroke-linejoin="round"></path></g><rect rx="2.981" y="145.348" x="253.768" height="23.217" width="26.025" style="marker:none" color="#000" overflow="visible" fill="#e0e0e0" fill-rule="evenodd" stroke="#000" stroke-width="0.529"></rect><path d="M266.67 164.979a1.611 1.611 0 01-.65-.263 1.5 1.5 0 01-.556-.812c-.033-.12-.037-.156-.036-.363 0-.171.007-.255.024-.327a.613.613 0 00.02-.099c-.001-.002-.763-.44-1.691-.976l-1.688-.973-.079.075c-.352.334-.9.462-1.379.324a1.466 1.466 0 01-1.007-1.034 1.095 1.095 0 01-.037-.362c0-.198.004-.24.036-.359a1.468 1.468 0 01.976-1.032l.096-.029v-3.904l-.1-.03a1.448 1.448 0 01-.972-1.017c-.034-.122-.038-.16-.038-.366 0-.255.017-.354.095-.545.208-.51.662-.85 1.21-.907.41-.042.844.107 1.134.387l.065.063 1.688-.974c.928-.536 1.69-.975 1.691-.977a.602.602 0 00-.02-.1 1.353 1.353 0 01-.024-.326c0-.208.003-.244.036-.363a1.46 1.46 0 01.752-.929c.229-.114.395-.153.656-.153.104 0 .227.008.273.018.56.12.983.514 1.133 1.057.06.217.059.547-.003.768-.007.025.19.142 1.673.997l1.692.975c.007.004.04-.022.077-.056a1.457 1.457 0 011.854-.111c.206.153.347.327.46.566.101.215.124.326.124.603 0 .264-.019.363-.108.576a1.49 1.49 0 01-.9.813l-.101.03v3.906l.08.023c.357.103.705.392.875.729.259.51.206 1.095-.14 1.55-.143.187-.309.319-.54.43a1.455 1.455 0 01-1.622-.267c-.048-.048-.087-.075-.1-.07-.023.008-3.317 1.907-3.334 1.921-.007.005.002.059.019.12.046.174.052.448.013.634-.072.351-.271.665-.558.883-.127.096-.346.2-.511.242a1.71 1.71 0 01-.559.034zm2.996-3.407c.895-.516 1.632-.943 1.638-.949.007-.007.007-.033.002-.061l-.009-.051h-8.848l-.007.033c-.007.03.11.1 1.665.998.92.53 1.682.969 1.694.974.016.007.048-.014.1-.061.224-.204.539-.342.835-.364.438-.033.83.1 1.128.384l.09.086.043-.025 1.669-.964zm1.662-1.868c.066-.193.182-.388.324-.542l.052-.057-2.2-3.81c-1.21-2.097-2.206-3.817-2.213-3.824a.384.384 0 00-.14.012c-.164.03-.411.03-.566 0-.07-.015-.124-.02-.13-.012-.008.007-1.002 1.727-2.213 3.823l-2.2 3.811.084.098c.135.156.23.319.29.498l.036.108c.005.014.896.017 4.422.014l4.415-.004zm-7.666-4.764c1.213-2.1 2.203-3.825 2.2-3.832-.018-.056-.05-.039-1.735.934l-1.692.976c-.002 0 .007.04.019.085.011.046.024.169.028.273.007.159.003.21-.022.334-.107.515-.462.92-.956 1.092l-.114.039-.004 1.945c-.002 1.07 0 1.953.003 1.963.029.074.041.053 2.272-3.81zm8.682 3.814c.014-.008.017-.41.014-1.962l-.004-1.951-.113-.04a1.45 1.45 0 01-.956-1.09 1.094 1.094 0 01-.023-.335c.004-.104.017-.225.028-.269.014-.059.015-.084.005-.093-.008-.007-.77-.447-1.691-.979-1.69-.974-1.723-.992-1.717-.92 0 .015 3.537 6.151 4.373 7.591.034.06.051.069.084.048z" fill="#e535ab"></path><path style="line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none" d="M199.904 193.496c-.706-.258-2.317.323-2.318-.587.102-6.902.083-13.807.292-20.707l-10.162-.039c-.2 6.958-.184 13.92-.29 20.88-.673.071-2.045-.115-2.272.123l7.274 6.372 7.476-6.042z" color="#000" font-weight="400" font-family="sans-serif" overflow="visible" fill="#ddbaa5" fill-rule="evenodd" stroke="#855c40" stroke-width="1.058" stroke-linecap="round" stroke-linejoin="round"></path><path style="line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none" d="M230.338 193.496c-1.282-.06-2.898.19-2.306-1.607.094-6.562.078-13.127.28-19.687l-10.161-.039c-.205 6.958-.179 13.92-.29 20.88-.746.141-3.296-.384-1.695.628l6.697 5.867 7.475-6.042z" color="#000" font-weight="400" font-family="sans-serif" overflow="visible" fill="#e6e6e6" fill-rule="evenodd" stroke="#000" stroke-width="1.058" stroke-linecap="round" stroke-linejoin="round"></path><path d="M258.951 177.429l2.324.15-.193 17.667-.105 3.477 10.162.04.094-3.13.196-17.75 2.387-.022-7.389-6.474z" style="line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none" color="#000" font-weight="400" font-family="sans-serif" overflow="visible" fill="#f7bfe4" fill-rule="evenodd" stroke="#e535ab" stroke-width="1.058" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="2.1159999,2.1159999"></path><path d="M266.67 164.979c-1.126.012-1.08-1.42-1.528-2.026-1.09-.398-1.854-1.559-3.077-1.598-.617.227-1.373.473-1.93-.064-.775-.55-.74-1.876.128-2.316.607-.226.43-.83.436-1.323v-2.807c-1.293-.197-1.51-2.3-.27-2.741.787-.532 1.74.718 2.436-.075.8-.746 2.198-.854 2.637-1.974-.047-.72.45-1.406 1.214-1.433.747-.101 1.626.48 1.517 1.296.21 1.008 1.342 1.301 2.13 1.734.58.412 1.238.825 1.96.461.61-.254 1.354-.078 1.645.557.515.811-.052 1.962-.922 2.24v3.84c1.263.198 1.515 2.23.323 2.714-.815.493-1.678-.505-2.48-.036-.712.79-1.968.899-2.55 1.837-.183.673-.223 1.52-1.098 1.681a1.313 1.313 0 01-.571.033zm2.996-3.407c.445-.32 1.336-.53 1.425-1.054-2.873-.016-5.762-.002-8.642-.007.945.72 2.055 1.178 3.033 1.85.873-.16 1.93-.39 2.619.114l1.565-.903zm1.662-1.868c.55-.75-.08-1.624-.55-2.227-.606-.696-.86-1.589-1.368-2.346-.705-1.22-1.41-2.44-2.119-3.66-.976-.116-1.5.879-1.808 1.641-.316.889-.956 1.585-1.376 2.417l-2.065 3.576c.402.892 1.516.85 2.332.736.926-.17 1.849.035 2.78-.018l4.135-.004.04-.114zm-7.666-4.764c.726-1.285 1.499-2.543 2.19-3.848-1.072.748-2.52 1.015-3.312 2.123.048.609-.338 1.134-.827 1.485-.707.518-.185 1.364-.324 2.07.028.511-.146 1.685.163 1.766.749-1.172 1.398-2.403 2.11-3.596zm8.682 3.814c-.167-1.299.368-2.689-.213-3.923-.568-.315-.805-.953-.923-1.572-.113-.774-.96-.789-1.479-1.147-.578-.315-1.115-.769-1.773-.898 1.407 2.513 2.87 4.994 4.304 7.492-.115.06.08.08.084.048z" fill="#e535ab"></path><text transform="matrix(0 1.00012 -.99988 0 0 0)" y="-221.356" x="184.304" style="line-height:125%;-inkscape-font-specification:&#x27;Bitstream Vera Sans, Normal&#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center" font-weight="400" font-size="4.547" font-family="Bitstream Vera Sans" letter-spacing="0" word-spacing="0" text-anchor="middle" stroke-width="0.265"><tspan y="-221.356" x="184.304">HTML+</tspan></text><text transform="scale(.99906 1.00094)" y="149.86" x="106.082" style="line-height:125%;-inkscape-font-specification:&#x27;Impact, Condensed&#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center" font-weight="400" font-stretch="condensed" font-size="17.082" font-family="Impact" letter-spacing="0" word-spacing="0" text-anchor="middle" stroke-width="0.265" stroke-linecap="round" stroke-linejoin="round"><tspan style="-inkscape-font-specification:&#x27;Bitstream Vera Sans Mono, Normal&#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center" y="149.86" x="106.082" font-stretch="normal" font-size="3.661" font-family="Bitstream Vera Sans Mono">query( `â€¦` )</tspan></text></g></svg></div></section><section id="data-injection"><h2>Data Injection<a class="btn btn-link section-link text-muted" href="#data-injection"><i class="fas fa-link"></i></a></h2><div><p>The data injection mechanism allows us to execute all GraphQL requests on the server and pass the data along the original
HTML document and then inject it into our process scopes. </p></div></section><section id="direct-data-injection"><h3>Direct Data Injection<a class="btn btn-link section-link text-muted" href="#direct-data-injection"><i class="fas fa-link"></i></a></h3><div><p>We started out with what we now call direct data injection.</p><p>When we define a process scope class, we can use the <a href="/declarative-api#injection">injection</a> function to declare a GraphQL query.</p><pre><pre class="prism-code language-js p-3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MyScope</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    myFoos </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">injection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// language=GraphQL</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">query iQueryFoo($config: QueryConfigInput!)</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">        {</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            iQueryFoo(config: $config)</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            {</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                # Interactive Query meta fields</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                type</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                columnStates{</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                    name</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                    enabled</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                    sortable</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                }</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                queryConfig{</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                    id</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                    condition</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                    offset</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                    pageSize</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                    sortFields</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                }</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                </span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                # payload rows</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                rows{</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                    id</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                    name</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                    owner{</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                        login</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                    }</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                }</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                rowCount</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            }</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">        }</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            config</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                pageSize</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">       </span></div></pre></pre><p>He we use an InteractiveQuery based query to request an InterativeQuery document containing the first five &quot;Foo&quot; entities.
We can follow entity relations we have defined in our <a href="/graphql-config">GraphQLConfiguration.java</a> and the server-side
iQuery mechanism will automatically use an optimized SQL statement using JOINs etc.</p><p>The call to <code>injection</code> will be tracked by &quot;babel-plugin-track-usage&quot; and be registered for the given process scope.</p><p>So when the server prepares the data for a process, it knows what queries to run in preparation. The JSON result of those
queries goes into the initial view data and is then injected into the process scopes. All necessary instantiations and
conversions will happen automatically. </p><p>All &quot;Date&quot; and &quot;Timestamp&quot; scalars will be luxon DateTime instances and the system will also instantiate all type
implementations that were registered.</p><p>Among those is a generic type definition for all GraphQL types that were degenerified from
<code>de.quinscape.automaton.model.data.InteractiveQuery</code>, the Java-side container for InteractiveQuery documents.</p><p>This means that our injected <code>myFoos</code> is a
<a href="https://github.com/quinscape/automaton-js/blob/master/src/model/InteractiveQuery.js">InteractiveQuery instance</a> that
provides extra methods to operate on the iQuery document.</p><p>For example, if we want to manually trigger pagination for our <code>myFoos</code> we can just do</p><pre><pre class="prism-code language-js p-3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">    myFoos</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> offset</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// ... pagination has happened here ... </span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span></div></pre></pre></div></section><section id="indirect-data-injection"><h3>Indirect Data Injection<a class="btn btn-link section-link text-muted" href="#indirect-data-injection"><i class="fas fa-link"></i></a></h3><div><p>If you have a lot of injections, direct data injection can become very long and confusing. This is why we created indirect
data injection.</p><p>With indirect data injection we introduce the concept of named queries. Named queries are created either in a &quot;queries&quot;
folder as a sibling to the &quot;processes&quot; folder or in a process inside a &quot;queries&quot; folder.</p><p>No matter the location all queries share one namespace per application. </p></div></section><section id="indirect-injection-example"><h3>Indirect Injection Example<a class="btn btn-link section-link text-muted" href="#indirect-injection-example"><i class="fas fa-link"></i></a></h3><div><p>The query is defined in its own file. For this example we assume the location to be<br/>
&quot;src/main/apps/processes/myProcess/queries/Q_Foo.js&quot;:</p><pre><pre class="prism-code language-js p-3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> query </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@quinscape/automaton-js&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">query</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// language=GraphQL</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">query iQueryFoo($config: QueryConfigInput!)</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">    {</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">        </span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">        iQueryFoo(config: $config)</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">        {</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            type</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            columnStates{</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                name</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                enabled</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                sortable</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            }</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            queryConfig{</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                id</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                condition</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                offset</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                pageSize</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                sortFields</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            }</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            rows{</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                id</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                name</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                description</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                num</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                </span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                owner{</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                    login</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">                }</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            }</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">            rowCount</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">        }</span></div><div class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">    }</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;config&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;pageSize&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;sortFields&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span></div></pre></pre><p>The <code>query</code> function is tracked and registers the query under the name of the module. (here &quot;Q_Foo&quot;).                                                    </p><p>Now we can inject the name query into our project scope.</p><p>In &quot;src/main/apps/processes/myProcess/myProcess.js&quot;: </p><pre><pre class="prism-code language-js p-3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Q_Foo</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./queries/Q_Foo&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MyScope</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    myFoos </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">injection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token maybe-class-name">Q_Foo</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">       </span></div></pre></pre><p>The import must have the same name as the named query and the module. The system will follow the import and provide
the query data by executing the named query.</p></div></section><section id="true-async-requests"><h2>True async requests<a class="btn btn-link section-link text-muted" href="#true-async-requests"><i class="fas fa-link"></i></a></h2><div><p>The remaining async requests are most often the direct result of user interaction. We get a list of the first five foos injected,
but pagination or resorting or filtering is an async request then. </p><p>Often we will inject a paginated list of objects with only a few field selected and when the user then selects one
of those objects, we have a <code>Q_FooDetail</code> query which we executed async and filtered to the detail selection.</p><pre><pre class="prism-code language-js p-3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">FilterDSL</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@quinscape/automaton-js&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Q_FooDetail</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./queries/Q_FooDetail&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> field</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">FilterDSL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// assume `id` to be the id property of the selected Foo object</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Q_FooDetail</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    config</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        condition</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">field</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;id&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">eq</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">value</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter">iQueryFoo</span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// detail object is in iQueryFoo.rows[0]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div></pre></pre><p>In this example we assume another, more detailed named queries <code>Q_FooDetail</code> which we execute with a hand-crafted query
config object.</p><p>We use the FilterDSL API to define a condition on <code>Q_FooDetail</code>, i.e. that the id field should be our selected id value.</p></div></section></div></div></div></div><div class="col-3"><div class="mt-5 sidebar"><h5>GraphQL Injection</h5><ul class="markdown-doc list-unstyled"><li><a class="btn btn-link toc-link text-muted" href="#wild-west-async-fetching">Wild West Async Fetching</a><ul class="list-unstyled pl-4"><li><a class="btn btn-link toc-link text-muted" href="#cutting-down-the-problem">Cutting down the problem</a></li></ul></li><li><a class="btn btn-link toc-link text-muted" href="#data-injection">Data Injection</a><ul class="list-unstyled pl-4"><li><a class="btn btn-link toc-link text-muted" href="#direct-data-injection">Direct Data Injection</a></li><li><a class="btn btn-link toc-link text-muted" href="#indirect-data-injection">Indirect Data Injection</a></li><li><a class="btn btn-link toc-link text-muted" href="#indirect-injection-example">Indirect Injection Example</a></li></ul></li><li><a class="btn btn-link toc-link text-muted" href="#true-async-requests">True async requests</a></li></ul></div></div></main><footer class="row"><div class="col"><hr/></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"name":"injection","markdown":{"src":"explanation-injection.md","frontmatter":{"title":"GraphQL Injection","date":"2021-04-08T00:00:00.000Z"},"sections":[{"stub":"graphql-injection","title":"GraphQL Injection","level":1,"content":"\u003cp\u003eThis document explains how we use data injection to cut down on the common problem of asynchronous data fetching\u003c/p\u003e"},{"stub":"wild-west-async-fetching","title":"Wild West Async Fetching","level":2,"content":"\u003cp\u003eIf we just head into things and follow the most common approach we write our frontend so that the react components\nthemselves or some kind of state handling library fetches the data we need.\u003c/p\u003e\u003cp\u003eThis often leads to two kinds of problems: First we incur a lot of request latency which quickly adds up to make our\napplication seem slow and sluggish. Second while the responses of all the async requests are coming in, we have a lot of\nvisual noise or even reflow while our components update to their final state.\u003c/p\u003e"},{"stub":"cutting-down-the-problem","title":"Cutting down the problem","level":3,"content":"\u003cp\u003eAssuming GraphQL as data fetching method, we can categorize the data acquired into three groups\u003c/p\u003e\u003cul\u003e\u003cli\u003eSystem data - internal / non-business-entity application data \u003c/li\u003e\u003cli\u003eData that comes from a GraphQL query whose variables are known at compile-time\u003c/li\u003e\u003cli\u003eTruly async requests\n\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eIn practice the number of data requests that fall into the last category is often very small if not zero.\u003c/p\u003e\u003cp\u003eMost of our data needs run along the lines of \u0026quot;Give me the first x rows of that table, sorted by y\u0026quot;, maybe\nwith a filter. This is exactly what the InteractiveQuery system encapsulates.\u003c/p\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"834.376\" height=\"465.959\" viewBox=\"0 0 220.762 123.285\"\u003e\u003cg transform=\"translate(-75.428 -80.524)\"\u003e\u003cg stroke-width=\"1.907\" stroke-linecap=\"round\" stroke-linejoin=\"round\" color=\"#000\" fill=\"#e0e0e0\" fill-rule=\"evenodd\" stroke=\"#000\"\u003e\u003cpath style=\"marker:none\" d=\"M44.601 95.917v108.857H127v-96.419l-12.439-12.438h-69.96z\" overflow=\"visible\" transform=\"matrix(.55457 0 0 .55562 57.923 60.76)\"\u003e\u003c/path\u003e\u003cpath style=\"marker:none\" d=\"M114.561 95.917L127 108.355h-12.439V95.917z\" overflow=\"visible\" transform=\"matrix(.55457 0 0 .55562 57.923 60.76)\"\u003e\u003c/path\u003e\u003c/g\u003e\u003ctext style=\"line-height:125%;-inkscape-font-specification:\u0026#x27;Impact, Condensed\u0026#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center\" x=\"106.082\" y=\"143.516\" transform=\"scale(.99906 1.00094)\" font-weight=\"400\" font-stretch=\"condensed\" font-size=\"17.082\" font-family=\"Impact\" letter-spacing=\"0\" word-spacing=\"0\" text-anchor=\"middle\" stroke-width=\"0.265\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003ctspan x=\"106.082\" y=\"143.516\" style=\"-inkscape-font-specification:\u0026#x27;Bitstream Vera Sans Mono, Normal\u0026#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center\" font-stretch=\"normal\" font-size=\"3.661\" font-family=\"Bitstream Vera Sans Mono\"\u003einjection( Q_Foo )\u003c/tspan\u003e\u003c/text\u003e\u003cpath style=\"isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none\" d=\"M233.87 84.795c-.27.002-.541.008-.813.02-8.489.045-16.384 5.104-20.835 12.208-.43-.026-.862-.04-1.294-.04-2.124.003-4.222.3-6.143.873-10.348-3.93-23.29.785-29.592 9.863-2.8 4.263-4.64 9.293-5.138 14.344-.05 2.193.405 4.456.877 6.724-.857 2.473-1.306 5.25-1.307 8.076a25.98 25.98 0 00.495 5.013l-.018.028c-4.733 7.612-6.062 18.154-1.173 26.042 14.823 10.225 33.741 10.121 50.983 8.787 19.375-1.808 38.922-2.206 58.115-5.644 7.458-3.9 8.26-13.431 7.871-20.908-.334-4.476-1.754-8.94-4.021-12.919 4.528-3.425 7.084-8.136 7.084-13.057 0-10.045-10.434-18.187-23.305-18.187-2.17.002-4.33.24-6.415.71-.705-3.656-2.018-7.115-4.61-10.099-4.576-6.834-12.383-11.874-20.761-11.834z\" color=\"#000\" overflow=\"visible\" fill=\"#56a6cf\" fill-opacity=\"0.382\" stroke=\"#56a6cf\" stroke-width=\"1.058\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003c/path\u003e\u003cpath style=\"marker:none\" d=\"M181.484 148.503l.606 14.531 2.227 5.06-.124-13.361\" fill=\"#c38760\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"0.794\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003c/path\u003e\u003cpath style=\"marker:none\" d=\"M184.317 168.094l18.93-1.308.942-13.435-10.85.714-.332-.314-8.814.982z\" fill=\"#855c40\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"1.058\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003c/path\u003e\u003cpath style=\"marker:none\" d=\"M181.484 148.503l7.768-.7.164.151 7.931-.548 6.842 5.945-19.996 1.382z\" fill=\"#ddbaa5\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"0.794\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003c/path\u003e\u003cpath style=\"marker:none\" d=\"M189.284 147.951l4.089 5.88\" fill=\"#e0e0e0\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"1.058\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003c/path\u003e\u003cpath d=\"M208.545 164.448c.054-.282.25.143 0 0zm-15.833.522c-.372-.317-.026-.948-.293-.949.003-.856-.325-.218-.817-.202-.346.153-.34.213-.372.342-.071.395-.295.57-.698.977-.939-.177.405-.839.035-1.301-.058-.044.365-.034.157-.414.047-.57.449-.315.342-.885-.056-.346.327-.118.26-.49.122-.2.083-.801.465-.946.77-.197.492.955.774 1.38-.023.446.25.576.424.636-.48.49.284 1.031.739.824.153-.376-1.072-1.455-.297-1.514.5-.143 1.24.713.348.417-.446.405 1.165 1.084.508 1.552-.33.212-1.191-.41-1.42-.246.035-.177.52 1.266-.155.82zm.21-.173c-.036-.28-.106.319 0 0zm.055-.114c-.118-.15.022.146 0 0zm-.034-.287c-.083-.117.011.161 0 0zm-.974-1.078c.43-.039.187-.724.034-.9-.055-.725-.249-.52-.365-.039.073.63-.55 1.153.331.938zm-.567-.03c-.117-.574-.113.156 0 0zm.105-.304c.07-.377-.194.302 0 0zm-.106-.076c-.067-.08-.02.09 0 0zm.178-.177c-.092-.254-.17.146 0 0zm-.402-.07c-.122-.245.06.353 0 0zm-1.107 2.36c.032-.244.121.11 0 0zm6.803-.867c-.94.12-1.356-1.592-.307-1.658.274-.307 1.261.103 1.11-.512-.3.116.153-.38-.2-.368-.036-.412.146-.642-.061-.67-.049-.449-.435-.724-.074-.847.141-.597.353-1.189.534-1.737.435-.418 1.955.601 1.108 1.07-.374-.015-.905-.148-.906.035-.13-.385-.102.808-.251.885-.153.598.328 1.404.43 1.854.518-.329.407.142-.034.26-.14.475.446.554.833.555.366.089 1.166.295 1.373.005-.407-.344-1.163-.492-1.233-1.075-.216-.328.154-.59.102-.782.206.027.122-.274.418-.268.213-.084 1.366.422 1.032.568-.557-.153-1.368-.219-1.137.644.364.594 1.52.577 1.503 1.35-.371.317-.675.027-1.049.084-.267-.06-1.149-.148-1.645-.329-.154.24.26.866-.306.48-.19-.649-.63.767-1.24.457zm.402-.265c.66-.137.511-.891.564-1.134.249-.3-.226.09-.285-.108-.278-.028-.105.651-.315.224-.185-.195-.296.641-.742.558.048.392.428.566.778.46zm.173-1.135c.053-.091.068.08 0 0zm.508.28c-.076-.202-.038.212 0 0zm.048-.402c-.037-.085-.051.09 0 0zm-.223-.894c-.092-.373.01.34 0 0zm.202-.01c-.082-.08-.034.125 0 0zm1.69-.281c-.07-.08-.054.091 0 0zm-1.977.033c-.122-.269-.055.237 0 0zm.009-.35c-.1-.085-.113.123 0 0zm.641-2.265c.768-.04-.088-.572-.082 0l.035.025.047-.025zm-3.188 5.42c-.454.028-1.17-.797-.27-.483.502.393.804-.322.16-.492-.712-.295-.745-1.603.226-1.085.865.532-.82-.143-.369.547.293.434 1.725 1.102.655 1.479-.133.016-.267.046-.402.033zm2.404-2.144c.051-.09.037.085 0 0zm-9.396-.24c-.61-.09-1.268-.51-1.361-1.161.144-.47 1.364-.43 1.234-1.138.047-.567-.158-1.203-.776-.736-.307.222-.85.139-.236-.106.533-.426 1.323-.324 1.202.52.005.265.05.485.232.286-.234.336-.156.71-.109 1.102-.07.32.286 1.195-.186 1.232zm-.164-.56c.186-.393.27-1.559-.356-.907-.603.163-.57.632-.055.834.099-.01.357.195.41.074zm-.552-.222c.03-.115.087.033 0 0zm-.455-.372c.166-.144-.188.034 0 0zm12.62-.801c-.303-.514-.147-1.054-.126-1.64-.12-.58.257-1.129.396-1.576.372.412-.269 1.21.577 1.166.877.178-.509.169-.587.317-.17.574.07 1.357-.155 1.813l-.105-.08zm.178-.262c-.103-.043-.004.242 0 0zm-7.854.798c-.172-.196.214.075 0 0zm6.032-.637c.075-.388.055.312 0 0zm-8.946.67c-.787-.115.078-1.907.102-.862-.624.726.32.99.563.25-.167-.364-.367-.946.084-.33.079.49.739.571.884.435-.045.832-.995-.405-1.088.338-.132.145-.348.282-.545.169zm5.955-.506c-.564-.119-1.16-.106-1.698-.445-.441-.096-.625-.771.01-.358.273-.152.697.622.515-.014-.404-.253-.271-1.25.007-.5.025.41.614 1.04.4.248-.224-.83 1.028-.844 1.135-.23-.796-.47-1.215.997-.39 1.096-.051-.286.531-.234.62-.4.115-.134.382-1.358.73-.626.277-.262.868-.367.296.035-.442.603-.831.931-1.485 1.174l-.079.015-.06.005zm.306-.268c-.045-.121-.272.091 0 0zm-3.274.433c-.473-.255-.271-1.765-.648-.649-.007.59-.599.7-.63.058-.206-.332-.34-.833.074-.335.322.946.507-.93.965-.724-.062.287 1.012.191.32.418-.492.233.031 1.665.292.668.122-.349.04-1.54.371-.584-.052.344.75 1.503.025.895-.349-.832-.21.56-.769.254zm5.156-.547c-.534-.301.259-1.761.219-.675-.165.138.063.904-.22.675zm.228-.145c.035-.124.082.08 0 0zm.274-1.797c-.567.056-.773-1.412-.26-.543-.103.167.617.653.26.543z\"\u003e\u003c/path\u003e\u003cg stroke-width=\"4.792\" stroke-linecap=\"round\" stroke-linejoin=\"round\" color=\"#000\" fill=\"#e0e0e0\" fill-rule=\"evenodd\" stroke=\"#000\"\u003e\u003cpath style=\"marker:none\" d=\"M168.572 362.52v411.427H480V409.531l-47.012-47.011z\" transform=\"matrix(.05504 0 0 .05539 172.036 95.444)\" overflow=\"visible\" stroke-width=\"19.168\"\u003e\u003c/path\u003e\u003cpath style=\"marker:none;font-variant-east_asian:normal\" d=\"M111.795 95.72l15.207 15.2h-15.207z\" overflow=\"visible\" stroke-width=\"5.072\" transform=\"matrix(.20801 0 0 .20935 172.036 95.444)\"\u003e\u003c/path\u003e\u003c/g\u003e\u003ctext style=\"line-height:125%;-inkscape-font-specification:\u0026#x27;Bitstream Vera Sans, Normal\u0026#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center\" x=\"190.809\" y=\"128.041\" transform=\"scale(.99568 1.00434)\" font-weight=\"400\" font-size=\"4.199\" font-family=\"Bitstream Vera Sans\" letter-spacing=\"0\" word-spacing=\"0\" text-anchor=\"middle\" stroke-width=\"0.265\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003ctspan x=\"190.809\" y=\"128.041\"\u003eJSON\u003c/tspan\u003e\u003c/text\u003e\u003cpath style=\"line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none\" d=\"M167.322 130.31l.903 1.875c-3.48 1.847-6.964 3.753-10.79 4.8-3.88 1.143-7.847 2.112-11.863 2.578h-14.174v10.15h14.61c6.902 1.177 13.915 2.756 20.009 6.348l2.23 1.214-.96 1.903 9.03-3.165-2.046-9.631-1.163 1.976c-2.386-1.27-4.708-2.675-7.222-3.69 2.48-.981 4.785-2.327 7.153-3.54.274.487.605 1.527.844 1.67l2.231-9.563-8.792-2.925z\" color=\"#000\" font-weight=\"400\" font-family=\"sans-serif\" overflow=\"visible\" fill=\"#e0e0e0\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"1.058\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003c/path\u003e\u003ctext style=\"line-height:125%;-inkscape-font-specification:\u0026#x27;Bitstream Vera Sans, Bold\u0026#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center\" x=\"240.023\" y=\"129.582\" transform=\"scale(1.00046 .99954)\" font-weight=\"700\" font-size=\"13.845\" font-family=\"Bitstream Vera Sans\" letter-spacing=\"0\" word-spacing=\"0\" writing-mode=\"lr\" text-anchor=\"middle\" stroke-width=\"0.265\"\u003e\u003ctspan x=\"240.023\" y=\"129.582\" style=\"-inkscape-font-specification:\u0026#x27;Bitstream Vera Sans, Bold\u0026#x27;;text-align:center;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal\"\u003eServer\u003c/tspan\u003e\u003c/text\u003e\u003crect style=\"marker:none\" width=\"26.025\" height=\"23.217\" x=\"210.727\" y=\"144.689\" rx=\"2.981\" color=\"#000\" overflow=\"visible\" fill=\"#e0e0e0\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"0.529\"\u003e\u003c/rect\u003e\u003cpath d=\"M218.893 161.441c-.208-1.21-1.877-1.573-2.701-.75-.851.02-1.954-1.043-1.13-1.794.446-.873-.029-2.253-1.094-2.322-.78.004-.722-.729-.694-1.28-.238-.782.605-.697 1.112-.993 1.025-.54 1.043-1.885.403-2.73-.02-.964 1.285-1.661 2.068-.862 1.093.394 2.064-.507 2.19-1.606.314-.457.933-.217 1.403-.278.777-.032.426 1.439 1.246 1.677.927.874 1.873-.43 2.776-.065.644.51.932 1.239.312 1.962-.339.983.38 2.062 1.467 2.114.617.21.365.927.418 1.417.126.824-1.295.45-1.588 1.174-.881.883.061 1.846.06 2.768-.495.7-1.28 1.12-2.053.44-1.093-.393-2.068.501-2.192 1.603-.314.457-.934.218-1.404.278-.524.138-.398-.41-.599-.753zm1.493-3.32c1.81-.213 2.92-2.622 1.776-4.09-.907-1.422-3.225-1.578-4.241-.19-.984 1.157-.702 3.128.639 3.893.528.353 1.198.533 1.826.387z\"\u003e\u003c/path\u003e\u003cpath d=\"M227.742 162.91c.2-1.235-1.337-1.072-1.94-1.35-.747-.851.738-1.29.446-2.098-.237-.685-1.334-1.262-.41-1.926.703-.165 1.652-.202 1.63-1.215-.384-.858.982-1.432 1.422-.655.743.94 1.572-.5 2.256-.492 1.12.154.25 1.591 1.26 1.853.663.2 1.57-.08 1.523.931-.304.631-1.101 1.31-.344 2.046.869.344.41 1.637-.464 1.514-1.058-.22-1.031 1.242-1.136 1.822-.918.882-1.429-.779-2.344-.327-.619.43-1.273 1.131-1.916.295-.05-.13-.023-.27.017-.397zm1.69-1.737c1.337.339 2.63-1.324 1.91-2.525-.55-1.188-2.448-1.282-3.09-.126-.607.971.005 2.502 1.18 2.65z\"\u003e\u003c/path\u003e\u003ctext style=\"line-height:125%;-inkscape-font-specification:\u0026#x27;Bitstream Vera Sans, Normal\u0026#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center\" x=\"149.638\" y=\"146.182\" transform=\"scale(1.00012 .99988)\" font-weight=\"400\" font-size=\"4.812\" font-family=\"Bitstream Vera Sans\" letter-spacing=\"0\" word-spacing=\"0\" text-anchor=\"middle\" stroke-width=\"0.265\"\u003e\u003ctspan x=\"149.638\" y=\"146.182\"\u003eWebpack\u003c/tspan\u003e\u003c/text\u003e\u003cg style=\"font-variant-east_asian:normal;marker:none\"\u003e\u003cpath style=\"line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none;font-variant-east_asian:normal\" d=\"M199.679 128.795h-.001a.529.529 0 00-.4.873l9.88 11.964-.745-.072 3.174 2.182-1.543-3.529-.07.743-9.88-11.962a.529.529 0 00-.415-.2z\" color=\"#000\" font-weight=\"400\" font-family=\"sans-serif\" overflow=\"visible\" fill-rule=\"evenodd\" fill-opacity=\"0.695\" stroke-width=\"14.285\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003c/path\u003e\u003c/g\u003e\u003cg style=\"font-variant-east_asian:normal;marker:none\"\u003e\u003cpath style=\"line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none;font-variant-east_asian:normal\" d=\"M248.29 152.18l.529.529h-10.78c-.74-.037-.74 1.094 0 1.057h10.78l-.53.53 1.855-.53.965-.276.883-.252-.882-.253-.968-.276z\" color=\"#000\" font-weight=\"400\" font-family=\"sans-serif\" overflow=\"visible\" fill-rule=\"evenodd\" fill-opacity=\"0.695\" stroke-width=\"3.78\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003c/path\u003e\u003c/g\u003e\u003cg style=\"font-variant-east_asian:normal;marker:none\"\u003e\u003cpath style=\"line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none;font-variant-east_asian:normal\" d=\"M241.454 157.768l-1.85.529-.936.267-.917.262.917.262.935.268 1.851.528-.529-.528h9.848c.706 0 .706-1.06 0-1.06h-9.848z\" color=\"#000\" font-weight=\"400\" font-family=\"sans-serif\" overflow=\"visible\" fill-rule=\"evenodd\" fill-opacity=\"0.695\" stroke-width=\"3.78\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003c/path\u003e\u003c/g\u003e\u003crect rx=\"2.981\" y=\"145.348\" x=\"253.768\" height=\"23.217\" width=\"26.025\" style=\"marker:none\" color=\"#000\" overflow=\"visible\" fill=\"#e0e0e0\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"0.529\"\u003e\u003c/rect\u003e\u003cpath d=\"M266.67 164.979a1.611 1.611 0 01-.65-.263 1.5 1.5 0 01-.556-.812c-.033-.12-.037-.156-.036-.363 0-.171.007-.255.024-.327a.613.613 0 00.02-.099c-.001-.002-.763-.44-1.691-.976l-1.688-.973-.079.075c-.352.334-.9.462-1.379.324a1.466 1.466 0 01-1.007-1.034 1.095 1.095 0 01-.037-.362c0-.198.004-.24.036-.359a1.468 1.468 0 01.976-1.032l.096-.029v-3.904l-.1-.03a1.448 1.448 0 01-.972-1.017c-.034-.122-.038-.16-.038-.366 0-.255.017-.354.095-.545.208-.51.662-.85 1.21-.907.41-.042.844.107 1.134.387l.065.063 1.688-.974c.928-.536 1.69-.975 1.691-.977a.602.602 0 00-.02-.1 1.353 1.353 0 01-.024-.326c0-.208.003-.244.036-.363a1.46 1.46 0 01.752-.929c.229-.114.395-.153.656-.153.104 0 .227.008.273.018.56.12.983.514 1.133 1.057.06.217.059.547-.003.768-.007.025.19.142 1.673.997l1.692.975c.007.004.04-.022.077-.056a1.457 1.457 0 011.854-.111c.206.153.347.327.46.566.101.215.124.326.124.603 0 .264-.019.363-.108.576a1.49 1.49 0 01-.9.813l-.101.03v3.906l.08.023c.357.103.705.392.875.729.259.51.206 1.095-.14 1.55-.143.187-.309.319-.54.43a1.455 1.455 0 01-1.622-.267c-.048-.048-.087-.075-.1-.07-.023.008-3.317 1.907-3.334 1.921-.007.005.002.059.019.12.046.174.052.448.013.634-.072.351-.271.665-.558.883-.127.096-.346.2-.511.242a1.71 1.71 0 01-.559.034zm2.996-3.407c.895-.516 1.632-.943 1.638-.949.007-.007.007-.033.002-.061l-.009-.051h-8.848l-.007.033c-.007.03.11.1 1.665.998.92.53 1.682.969 1.694.974.016.007.048-.014.1-.061.224-.204.539-.342.835-.364.438-.033.83.1 1.128.384l.09.086.043-.025 1.669-.964zm1.662-1.868c.066-.193.182-.388.324-.542l.052-.057-2.2-3.81c-1.21-2.097-2.206-3.817-2.213-3.824a.384.384 0 00-.14.012c-.164.03-.411.03-.566 0-.07-.015-.124-.02-.13-.012-.008.007-1.002 1.727-2.213 3.823l-2.2 3.811.084.098c.135.156.23.319.29.498l.036.108c.005.014.896.017 4.422.014l4.415-.004zm-7.666-4.764c1.213-2.1 2.203-3.825 2.2-3.832-.018-.056-.05-.039-1.735.934l-1.692.976c-.002 0 .007.04.019.085.011.046.024.169.028.273.007.159.003.21-.022.334-.107.515-.462.92-.956 1.092l-.114.039-.004 1.945c-.002 1.07 0 1.953.003 1.963.029.074.041.053 2.272-3.81zm8.682 3.814c.014-.008.017-.41.014-1.962l-.004-1.951-.113-.04a1.45 1.45 0 01-.956-1.09 1.094 1.094 0 01-.023-.335c.004-.104.017-.225.028-.269.014-.059.015-.084.005-.093-.008-.007-.77-.447-1.691-.979-1.69-.974-1.723-.992-1.717-.92 0 .015 3.537 6.151 4.373 7.591.034.06.051.069.084.048z\" fill=\"#e535ab\"\u003e\u003c/path\u003e\u003cpath style=\"line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none\" d=\"M199.904 193.496c-.706-.258-2.317.323-2.318-.587.102-6.902.083-13.807.292-20.707l-10.162-.039c-.2 6.958-.184 13.92-.29 20.88-.673.071-2.045-.115-2.272.123l7.274 6.372 7.476-6.042z\" color=\"#000\" font-weight=\"400\" font-family=\"sans-serif\" overflow=\"visible\" fill=\"#ddbaa5\" fill-rule=\"evenodd\" stroke=\"#855c40\" stroke-width=\"1.058\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003c/path\u003e\u003cpath style=\"line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none\" d=\"M230.338 193.496c-1.282-.06-2.898.19-2.306-1.607.094-6.562.078-13.127.28-19.687l-10.161-.039c-.205 6.958-.179 13.92-.29 20.88-.746.141-3.296-.384-1.695.628l6.697 5.867 7.475-6.042z\" color=\"#000\" font-weight=\"400\" font-family=\"sans-serif\" overflow=\"visible\" fill=\"#e6e6e6\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"1.058\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003c/path\u003e\u003cpath d=\"M258.951 177.429l2.324.15-.193 17.667-.105 3.477 10.162.04.094-3.13.196-17.75 2.387-.022-7.389-6.474z\" style=\"line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000;solid-opacity:1px;marker:none\" color=\"#000\" font-weight=\"400\" font-family=\"sans-serif\" overflow=\"visible\" fill=\"#f7bfe4\" fill-rule=\"evenodd\" stroke=\"#e535ab\" stroke-width=\"1.058\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-dasharray=\"2.1159999,2.1159999\"\u003e\u003c/path\u003e\u003cpath d=\"M266.67 164.979c-1.126.012-1.08-1.42-1.528-2.026-1.09-.398-1.854-1.559-3.077-1.598-.617.227-1.373.473-1.93-.064-.775-.55-.74-1.876.128-2.316.607-.226.43-.83.436-1.323v-2.807c-1.293-.197-1.51-2.3-.27-2.741.787-.532 1.74.718 2.436-.075.8-.746 2.198-.854 2.637-1.974-.047-.72.45-1.406 1.214-1.433.747-.101 1.626.48 1.517 1.296.21 1.008 1.342 1.301 2.13 1.734.58.412 1.238.825 1.96.461.61-.254 1.354-.078 1.645.557.515.811-.052 1.962-.922 2.24v3.84c1.263.198 1.515 2.23.323 2.714-.815.493-1.678-.505-2.48-.036-.712.79-1.968.899-2.55 1.837-.183.673-.223 1.52-1.098 1.681a1.313 1.313 0 01-.571.033zm2.996-3.407c.445-.32 1.336-.53 1.425-1.054-2.873-.016-5.762-.002-8.642-.007.945.72 2.055 1.178 3.033 1.85.873-.16 1.93-.39 2.619.114l1.565-.903zm1.662-1.868c.55-.75-.08-1.624-.55-2.227-.606-.696-.86-1.589-1.368-2.346-.705-1.22-1.41-2.44-2.119-3.66-.976-.116-1.5.879-1.808 1.641-.316.889-.956 1.585-1.376 2.417l-2.065 3.576c.402.892 1.516.85 2.332.736.926-.17 1.849.035 2.78-.018l4.135-.004.04-.114zm-7.666-4.764c.726-1.285 1.499-2.543 2.19-3.848-1.072.748-2.52 1.015-3.312 2.123.048.609-.338 1.134-.827 1.485-.707.518-.185 1.364-.324 2.07.028.511-.146 1.685.163 1.766.749-1.172 1.398-2.403 2.11-3.596zm8.682 3.814c-.167-1.299.368-2.689-.213-3.923-.568-.315-.805-.953-.923-1.572-.113-.774-.96-.789-1.479-1.147-.578-.315-1.115-.769-1.773-.898 1.407 2.513 2.87 4.994 4.304 7.492-.115.06.08.08.084.048z\" fill=\"#e535ab\"\u003e\u003c/path\u003e\u003ctext transform=\"matrix(0 1.00012 -.99988 0 0 0)\" y=\"-221.356\" x=\"184.304\" style=\"line-height:125%;-inkscape-font-specification:\u0026#x27;Bitstream Vera Sans, Normal\u0026#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center\" font-weight=\"400\" font-size=\"4.547\" font-family=\"Bitstream Vera Sans\" letter-spacing=\"0\" word-spacing=\"0\" text-anchor=\"middle\" stroke-width=\"0.265\"\u003e\u003ctspan y=\"-221.356\" x=\"184.304\"\u003eHTML+\u003c/tspan\u003e\u003c/text\u003e\u003ctext transform=\"scale(.99906 1.00094)\" y=\"149.86\" x=\"106.082\" style=\"line-height:125%;-inkscape-font-specification:\u0026#x27;Impact, Condensed\u0026#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center\" font-weight=\"400\" font-stretch=\"condensed\" font-size=\"17.082\" font-family=\"Impact\" letter-spacing=\"0\" word-spacing=\"0\" text-anchor=\"middle\" stroke-width=\"0.265\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003ctspan style=\"-inkscape-font-specification:\u0026#x27;Bitstream Vera Sans Mono, Normal\u0026#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center\" y=\"149.86\" x=\"106.082\" font-stretch=\"normal\" font-size=\"3.661\" font-family=\"Bitstream Vera Sans Mono\"\u003equery( `â€¦` )\u003c/tspan\u003e\u003c/text\u003e\u003c/g\u003e\u003c/svg\u003e"},{"stub":"data-injection","title":"Data Injection","level":2,"content":"\u003cp\u003eThe data injection mechanism allows us to execute all GraphQL requests on the server and pass the data along the original\nHTML document and then inject it into our process scopes. \u003c/p\u003e"},{"stub":"direct-data-injection","title":"Direct Data Injection","level":3,"content":"\u003cp\u003eWe started out with what we now call direct data injection.\u003c/p\u003e\u003cp\u003eWhen we define a process scope class, we can use the \u003ca href=\"/declarative-api#injection\"\u003einjection\u003c/a\u003e function to declare a GraphQL query.\u003c/p\u003e\u003cpre\u003e\u003cpre class=\"prism-code language-js p-3\" style=\"color:#393A34;background-color:#f6f8fa\"\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token keyword module\" style=\"color:#00009f\"\u003eexport\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token keyword module\" style=\"color:#00009f\"\u003edefault\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token keyword\" style=\"color:#00009f\"\u003eclass\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token class-name\"\u003eMyScope\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e    myFoos \u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#393A34\"\u003e=\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token function\" style=\"color:#d73a49\"\u003einjection\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e(\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e        \u003c/span\u003e\u003cspan class=\"token comment\" style=\"color:#999988;font-style:italic\"\u003e// language=GraphQL\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e        \u003c/span\u003e\u003cspan class=\"token template-string template-punctuation string\" style=\"color:#e3116c\"\u003e`\u003c/span\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003equery iQueryFoo($config: QueryConfigInput!)\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e        {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e            iQueryFoo(config: $config)\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e            {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                # Interactive Query meta fields\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                type\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                columnStates{\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                    name\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                    enabled\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                    sortable\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                queryConfig{\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                    id\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                    condition\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                    offset\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                    pageSize\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                    sortFields\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                \u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                # payload rows\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                rows{\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                    id\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                    name\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                    owner{\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                        login\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                    }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                rowCount\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e            }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e        }\u003c/span\u003e\u003cspan class=\"token template-string template-punctuation string\" style=\"color:#e3116c\"\u003e`\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e,\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e        \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e            config\u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#393A34\"\u003e:\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e                pageSize\u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#393A34\"\u003e:\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token number\" style=\"color:#36acaa\"\u003e5\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e            \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e        \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e    \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e)\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token plain\"\u003e       \u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/pre\u003e\u003cp\u003eHe we use an InteractiveQuery based query to request an InterativeQuery document containing the first five \u0026quot;Foo\u0026quot; entities.\nWe can follow entity relations we have defined in our \u003ca href=\"/graphql-config\"\u003eGraphQLConfiguration.java\u003c/a\u003e and the server-side\niQuery mechanism will automatically use an optimized SQL statement using JOINs etc.\u003c/p\u003e\u003cp\u003eThe call to \u003ccode\u003einjection\u003c/code\u003e will be tracked by \u0026quot;babel-plugin-track-usage\u0026quot; and be registered for the given process scope.\u003c/p\u003e\u003cp\u003eSo when the server prepares the data for a process, it knows what queries to run in preparation. The JSON result of those\nqueries goes into the initial view data and is then injected into the process scopes. All necessary instantiations and\nconversions will happen automatically. \u003c/p\u003e\u003cp\u003eAll \u0026quot;Date\u0026quot; and \u0026quot;Timestamp\u0026quot; scalars will be luxon DateTime instances and the system will also instantiate all type\nimplementations that were registered.\u003c/p\u003e\u003cp\u003eAmong those is a generic type definition for all GraphQL types that were degenerified from\n\u003ccode\u003ede.quinscape.automaton.model.data.InteractiveQuery\u003c/code\u003e, the Java-side container for InteractiveQuery documents.\u003c/p\u003e\u003cp\u003eThis means that our injected \u003ccode\u003emyFoos\u003c/code\u003e is a\n\u003ca href=\"https://github.com/quinscape/automaton-js/blob/master/src/model/InteractiveQuery.js\"\u003eInteractiveQuery instance\u003c/a\u003e that\nprovides extra methods to operate on the iQuery document.\u003c/p\u003e\u003cp\u003eFor example, if we want to manually trigger pagination for our \u003ccode\u003emyFoos\u003c/code\u003e we can just do\u003c/p\u003e\u003cpre\u003e\u003cpre class=\"prism-code language-js p-3\" style=\"color:#393A34;background-color:#f6f8fa\"\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e    myFoos\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\" style=\"color:#d73a49\"\u003eupdate\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token plain\"\u003e offset\u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#393A34\"\u003e:\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token number\" style=\"color:#36acaa\"\u003e5\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\" style=\"color:#d73a49\"\u003ethen\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e(\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e)\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token arrow operator\" style=\"color:#393A34\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e        \u003c/span\u003e\u003cspan class=\"token comment\" style=\"color:#999988;font-style:italic\"\u003e// ... pagination has happened here ... \u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e    \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e)\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/pre\u003e"},{"stub":"indirect-data-injection","title":"Indirect Data Injection","level":3,"content":"\u003cp\u003eIf you have a lot of injections, direct data injection can become very long and confusing. This is why we created indirect\ndata injection.\u003c/p\u003e\u003cp\u003eWith indirect data injection we introduce the concept of named queries. Named queries are created either in a \u0026quot;queries\u0026quot;\nfolder as a sibling to the \u0026quot;processes\u0026quot; folder or in a process inside a \u0026quot;queries\u0026quot; folder.\u003c/p\u003e\u003cp\u003eNo matter the location all queries share one namespace per application. \u003c/p\u003e"},{"stub":"indirect-injection-example","title":"Indirect Injection Example","level":3,"content":"\u003cp\u003eThe query is defined in its own file. For this example we assume the location to be\u003cbr/\u003e\n\u0026quot;src/main/apps/processes/myProcess/queries/Q_Foo.js\u0026quot;:\u003c/p\u003e\u003cpre\u003e\u003cpre class=\"prism-code language-js p-3\" style=\"color:#393A34;background-color:#f6f8fa\"\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token keyword module\" style=\"color:#00009f\"\u003eimport\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token imports punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token imports\"\u003e query \u003c/span\u003e\u003cspan class=\"token imports punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token keyword module\" style=\"color:#00009f\"\u003efrom\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token string\" style=\"color:#e3116c\"\u003e\u0026quot;@quinscape/automaton-js\u0026quot;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token keyword module\" style=\"color:#00009f\"\u003eexport\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token keyword module\" style=\"color:#00009f\"\u003edefault\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token function\" style=\"color:#d73a49\"\u003equery\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e(\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e    \u003c/span\u003e\u003cspan class=\"token comment\" style=\"color:#999988;font-style:italic\"\u003e// language=GraphQL\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e        \u003c/span\u003e\u003cspan class=\"token template-string template-punctuation string\" style=\"color:#e3116c\"\u003e`\u003c/span\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003equery iQueryFoo($config: QueryConfigInput!)\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e    {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e        \u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e        iQueryFoo(config: $config)\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e        {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e            type\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e            columnStates{\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                name\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                enabled\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                sortable\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e            }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e            queryConfig{\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                id\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                condition\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                offset\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                pageSize\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                sortFields\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e            }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e            rows{\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                id\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                name\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                description\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                num\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                \u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                owner{\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                    login\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e                }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e            }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e            rowCount\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e        }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token template-string string\" style=\"color:#e3116c\"\u003e    }\u003c/span\u003e\u003cspan class=\"token template-string template-punctuation string\" style=\"color:#e3116c\"\u003e`\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e,\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e    \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e        \u003c/span\u003e\u003cspan class=\"token string\" style=\"color:#e3116c\"\u003e\u0026quot;config\u0026quot;\u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#393A34\"\u003e:\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e            \u003c/span\u003e\u003cspan class=\"token string\" style=\"color:#e3116c\"\u003e\u0026quot;pageSize\u0026quot;\u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#393A34\"\u003e:\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token number\" style=\"color:#36acaa\"\u003e5\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e,\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e            \u003c/span\u003e\u003cspan class=\"token string\" style=\"color:#e3116c\"\u003e\u0026quot;sortFields\u0026quot;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#393A34\"\u003e:\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\" style=\"color:#e3116c\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e]\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e        \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e    \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e)\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/pre\u003e\u003cp\u003eThe \u003ccode\u003equery\u003c/code\u003e function is tracked and registers the query under the name of the module. (here \u0026quot;Q_Foo\u0026quot;).                                                    \u003c/p\u003e\u003cp\u003eNow we can inject the name query into our project scope.\u003c/p\u003e\u003cp\u003eIn \u0026quot;src/main/apps/processes/myProcess/myProcess.js\u0026quot;: \u003c/p\u003e\u003cpre\u003e\u003cpre class=\"prism-code language-js p-3\" style=\"color:#393A34;background-color:#f6f8fa\"\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token keyword module\" style=\"color:#00009f\"\u003eimport\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token imports maybe-class-name\"\u003eQ_Foo\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token keyword module\" style=\"color:#00009f\"\u003efrom\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token string\" style=\"color:#e3116c\"\u003e\u0026quot;./queries/Q_Foo\u0026quot;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token keyword module\" style=\"color:#00009f\"\u003eexport\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token keyword module\" style=\"color:#00009f\"\u003edefault\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token keyword\" style=\"color:#00009f\"\u003eclass\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token class-name\"\u003eMyScope\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e    myFoos \u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#393A34\"\u003e=\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token function\" style=\"color:#d73a49\"\u003einjection\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e(\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token maybe-class-name\"\u003eQ_Foo\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e)\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token plain\"\u003e       \u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/pre\u003e\u003cp\u003eThe import must have the same name as the named query and the module. The system will follow the import and provide\nthe query data by executing the named query.\u003c/p\u003e"},{"stub":"true-async-requests","title":"True async requests","level":2,"content":"\u003cp\u003eThe remaining async requests are most often the direct result of user interaction. We get a list of the first five foos injected,\nbut pagination or resorting or filtering is an async request then. \u003c/p\u003e\u003cp\u003eOften we will inject a paginated list of objects with only a few field selected and when the user then selects one\nof those objects, we have a \u003ccode\u003eQ_FooDetail\u003c/code\u003e query which we executed async and filtered to the detail selection.\u003c/p\u003e\u003cpre\u003e\u003cpre class=\"prism-code language-js p-3\" style=\"color:#393A34;background-color:#f6f8fa\"\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token keyword module\" style=\"color:#00009f\"\u003eimport\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token imports punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token imports\"\u003e \u003c/span\u003e\u003cspan class=\"token imports maybe-class-name\"\u003eFilterDSL\u003c/span\u003e\u003cspan class=\"token imports\"\u003e \u003c/span\u003e\u003cspan class=\"token imports punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token keyword module\" style=\"color:#00009f\"\u003efrom\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token string\" style=\"color:#e3116c\"\u003e\u0026quot;@quinscape/automaton-js\u0026quot;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token keyword module\" style=\"color:#00009f\"\u003eimport\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token imports maybe-class-name\"\u003eQ_FooDetail\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token keyword module\" style=\"color:#00009f\"\u003efrom\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token string\" style=\"color:#e3116c\"\u003e\u0026quot;./queries/Q_FooDetail\u0026quot;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token keyword\" style=\"color:#00009f\"\u003econst\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token plain\"\u003e field\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e,\u003c/span\u003e\u003cspan class=\"token plain\"\u003e value \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#393A34\"\u003e=\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token maybe-class-name\"\u003eFilterDSL\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token comment\" style=\"color:#999988;font-style:italic\"\u003e// assume `id` to be the id property of the selected Foo object\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token maybe-class-name\"\u003eQ_FooDetail\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\" style=\"color:#d73a49\"\u003eexecute\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e    config\u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#393A34\"\u003e:\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e        condition\u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#393A34\"\u003e:\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token function\" style=\"color:#d73a49\"\u003efield\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\" style=\"color:#e3116c\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\" style=\"color:#d73a49\"\u003eeq\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e(\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e            \u003c/span\u003e\u003cspan class=\"token function\" style=\"color:#d73a49\"\u003evalue\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e(\u003c/span\u003e\u003cspan class=\"token plain\"\u003eid\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e)\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e        \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e)\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e    \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\" style=\"color:#d73a49\"\u003ethen\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eiQueryFoo\u003c/span\u003e\u003cspan class=\"token parameter punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e)\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token arrow operator\" style=\"color:#393A34\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e{\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e    \u003c/span\u003e\u003cspan class=\"token comment\" style=\"color:#999988;font-style:italic\"\u003e// detail object is in iQueryFoo.rows[0]\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#393A34\"\u003e)\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#393A34\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/pre\u003e\u003cp\u003eIn this example we assume another, more detailed named queries \u003ccode\u003eQ_FooDetail\u003c/code\u003e which we execute with a hand-crafted query\nconfig object.\u003c/p\u003e\u003cp\u003eWe use the FilterDSL API to define a condition on \u003ccode\u003eQ_FooDetail\u003c/code\u003e, i.e. that the id field should be our selected id value.\u003c/p\u003e"}],"toc":{"level":1,"name":"graphql-injection","title":"GraphQL Injection","headings":[{"level":2,"name":"wild-west-async-fetching","title":"Wild West Async Fetching","headings":[{"level":3,"name":"cutting-down-the-problem","title":"Cutting down the problem","headings":[]}]},{"level":2,"name":"data-injection","title":"Data Injection","headings":[{"level":3,"name":"direct-data-injection","title":"Direct Data Injection","headings":[]},{"level":3,"name":"indirect-data-injection","title":"Indirect Data Injection","headings":[]},{"level":3,"name":"indirect-injection-example","title":"Indirect Injection Example","headings":[]}]},{"level":2,"name":"true-async-requests","title":"True async requests","headings":[]}]}},"title":"GraphQL Injection","prev":null,"next":null},"__N_SSG":true},"page":"/explanation/[name]","query":{"name":"injection"},"buildId":"CMA9tZLjYQcryFRYcJlJn","assetPrefix":"/automaton-js","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>